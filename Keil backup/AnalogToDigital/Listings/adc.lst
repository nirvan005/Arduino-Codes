C51 COMPILER V9.60.7.0   ADC                                                               09/04/2025 11:56:44 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE ADC
OBJECT MODULE PLACED IN .\Objects\adc.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE adc.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\adc.l
                    -st) TABS(2) OBJECT(.\Objects\adc.obj)

line level    source

   1          #include<reg51.h>
   2          sfr mydata=0x90;
   3          sbit rd=P2^5;
   4          sbit wr=P2^6;
   5          sbit intr=P2^7;
   6          sbit RS=P2^0;
   7          sbit EN=P2^2;
   8          void delay(unsigned int time){
   9   1        int i,j;
  10   1        for(i=0;i<time;i++){
  11   2          for(j=0;j<1275;j++);
  12   2        }
  13   1      }
  14          void lcd_cmd(unsigned char cmd){
  15   1        P3=cmd;
  16   1        RS=0;
  17   1        EN=1;
  18   1        delay(10);
  19   1        EN=0;
  20   1      }
  21          void lcd_data(unsigned char dat){
  22   1        P3=dat;
  23   1        RS=1;
  24   1        EN=1;
  25   1        delay(10);
  26   1        EN=0;
  27   1      }
  28          void display(char *ptr){
  29   1        while(*ptr!='\0'){
  30   2          lcd_data(*ptr);
  31   2          ptr++;
  32   2        }
  33   1      }
  34          void main(){
  35   1        unsigned char value;
  36   1        char temp[4];
  37   1        unsigned int i=0;
  38   1        lcd_cmd(0x01);
  39   1        lcd_cmd(0x0E);
  40   1        lcd_cmd(0x38);
  41   1        lcd_cmd(0x80);
  42   1        display("ADC = ");
  43   1        lcd_cmd(0xC0);
  44   1        intr=1;
  45   1        rd=1;
  46   1        wr=1;
  47   1        while(1){
  48   2          lcd_cmd(0xC0);
  49   2          wr=0;
  50   2          wr=1;
  51   2          while(intr==1);
  52   2          rd=0;
  53   2          value=mydata;
  54   2          rd=1;
C51 COMPILER V9.60.7.0   ADC                                                               09/04/2025 11:56:44 PAGE 2   

  55   2          i=0;
  56   2          while(i<3){
  57   3            temp[i]= (value%10) + '0';
  58   3            value=value/10;
  59   3            i++;
  60   3          }
  61   2          for(i=2;i>=0;i--){
  62   3            lcd_cmd(0x06);
  63   3            lcd_data(temp[i]);
  64   3          }
  65   2          i=0;
  66   2          delay(1000);
  67   2          rd=1;
  68   2        }
  69   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    250    ----
   CONSTANT SIZE    =      7    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       9
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
